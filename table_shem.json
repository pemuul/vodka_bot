{
    "users": "users (tg_id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, age_18 BOOLEAN, phone TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "user_settings": "user_settings (tg_id INTEGER PRIMARY KEY AUTOINCREMENT, subscription INTEGER)",
    "user_extended": "user_extended (tg_id INTEGER PRIMARY KEY AUTOINCREMENT, username TEXT, all_data TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "user_params": "user_params (user_tg_id INTEGER PRIMARY KEY AUTOINCREMENT, last_message_id INTEGER, last_image_message_list TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "user_rule": "user_rule (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER, rule TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "history_user": "history_user (user_tg_id INTEGER PRIMARY KEY AUTOINCREMENT, path TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "last_image": "last_image (image_id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "visite_log": "visite_log (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER, visit_date DATE NOT NULL, visit_count INTEGER NOT NULL, UNIQUE(user_tg_id,visit_date))",
    "params": "params (user_tg_id INTEGER, param_name TEXT NOT NULL, value TEXT, PRIMARY KEY (user_tg_id,param_name))",
    "admins": "admins (user_tg_id INTEGER PRIMARY KEY, user_id_add INTEGER, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "admin_invite": "admin_invite (random_key TEXT DEFAULT (lower(hex(randomblob(10)))) PRIMARY KEY, user_create_id INTEGER, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "wallet_log": "wallet_log (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER NOT NULL, type TEXT NOT NULL, code TEXT, description TEXT, balance REAL, total_spent_month REAL, total_spent REAL, next_write_off_date DATE, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    
    "cancel_order": "cancel_order (order_no TEXT PRIMARY KEY, user_tg_id INTEGER, chat_id INTEGER, pyment_message_id INTEGER, cancel_order_dt TIMESTAMP, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "params_site": "params_site (user_tg_id INTEGER, param_name TEXT NOT NULL, value TEXT, PRIMARY KEY (user_tg_id,param_name))",
    "item": "item (id INTEGER PRIMARY KEY AUTOINCREMENT, arrangement INTEGER, name TEXT NOT NULL, description TEXT, price INTEGER, discount INTEGER, media_list TEXT, quantity INTEGER, requires_confirm_menager BOOLEAN, activ BOOLEAN DEFAULT TRUE, display_priority INTEGER DEFAULT 0, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "sales_header": "sales_header (no TEXT PRIMARY KEY, client_id INTEGER NOT NULL, status TEXT, is_paid_for BOOLEAN, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "sales_line": "sales_line (id INTEGER PRIMARY KEY AUTOINCREMENT, sales_no TEXT NOT NULL, item_id INTEGER, name TEXT NOT NULL, description TEXT, price INTEGER, quantity INTEGER, reserv INTEGER, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "additional_field": "additional_field (id INTEGER PRIMARY KEY AUTOINCREMENT, sales_no TEXT NOT NULL, field_name TEXT NOT NULL, field_description TEXT NOT NULL, value TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",

    "questions": "questions (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER NOT NULL, text TEXT NOT NULL, type TEXT NOT NULL, status TEXT NOT NULL, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "question_messages": "question_messages (id INTEGER PRIMARY KEY AUTOINCREMENT, question_id INTEGER NOT NULL, sender TEXT NOT NULL, text TEXT NOT NULL, is_answer BOOLEAN DEFAULT FALSE, timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "scheduled_messages": "scheduled_messages (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, content TEXT NOT NULL, schedule_dt TIMESTAMP, status TEXT NOT NULL DEFAULT 'Черновик', auto_send INTEGER DEFAULT 0, media TEXT, last_attempt_dt TIMESTAMP, sent_dt TIMESTAMP, last_error TEXT, success_count INTEGER DEFAULT 0, failure_count INTEGER DEFAULT 0, created_at TIMESTAMP, updated_at TIMESTAMP)",
    "prize_draws": "prize_draws (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT NOT NULL, start_date DATE NOT NULL, end_date DATE NOT NULL, status TEXT NOT NULL, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "prize_draw_stages": "prize_draw_stages (id INTEGER PRIMARY KEY AUTOINCREMENT, draw_id INTEGER NOT NULL, name TEXT NOT NULL, description TEXT, winners_count INTEGER DEFAULT 1, text_before TEXT, text_after TEXT, order_index INTEGER DEFAULT 0, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "prize_draw_winners": "prize_draw_winners (id INTEGER PRIMARY KEY AUTOINCREMENT, stage_id INTEGER NOT NULL, user_tg_id INTEGER, receipt_id INTEGER, winner_name TEXT NOT NULL, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "participant_settings": "participant_settings (user_tg_id INTEGER PRIMARY KEY, blocked BOOLEAN DEFAULT FALSE, tester BOOLEAN DEFAULT FALSE, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "participant_messages": "participant_messages (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER NOT NULL, sender TEXT NOT NULL, text TEXT DEFAULT NULL, is_answer BOOLEAN DEFAULT FALSE, is_deleted BOOLEAN NOT NULL DEFAULT FALSE, buttons TEXT DEFAULT NULL, media TEXT DEFAULT NULL, timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "receipts": "receipts (id INTEGER PRIMARY KEY AUTOINCREMENT, number TEXT, date DATE, amount REAL, user_tg_id INTEGER, draw_id INTEGER, message_id INTEGER, qr TEXT, file_path TEXT, status TEXT DEFAULT 'не подтвержден', comment TEXT, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "images": "images (id INTEGER PRIMARY KEY AUTOINCREMENT, filename TEXT NOT NULL, filepath TEXT NOT NULL, user_tg_id INTEGER, upload_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "deleted_images": "deleted_images (id INTEGER PRIMARY KEY AUTOINCREMENT, image_id INTEGER NOT NULL, deleted_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "notifications": "notifications (id INTEGER PRIMARY KEY AUTOINCREMENT, user_tg_id INTEGER NOT NULL, message TEXT NOT NULL, is_read BOOLEAN DEFAULT FALSE, create_dt TIMESTAMP DEFAULT CURRENT_TIMESTAMP)",
    "receipt_ocr_queue": "receipt_ocr_queue (id INTEGER PRIMARY KEY AUTOINCREMENT, receipt_id INTEGER UNIQUE NOT NULL, status TEXT NOT NULL DEFAULT 'pending', attempts INTEGER NOT NULL DEFAULT 0, last_error TEXT, locked_at TIMESTAMP, updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, available_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP)"
}